package sensors;

import java.sql.Timestamp;
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.HashMap;

public class GeneralPhidSensor implements PhidSensor {
	private String sensorName, sensorValue, sensorId, sensorType;
	private Timestamp updateTimestamp;
	private int sensorPort;

	public int getSensorPort() {
		return sensorPort;
	}

	public void setSensorPort(int sensorPort) {
		this.sensorPort = sensorPort;
	}

	public Timestamp getUpdateTimestamp() {
		return updateTimestamp;
	}

	public void setUpdateTimestamp(Timestamp updateTimestamp) {
		this.updateTimestamp = updateTimestamp;
	}

	public String getSensorType() {
		return sensorType;
	}

	public void setSensorName(String sensorName) {
		this.sensorName = sensorName;
	}

	public GeneralPhidSensor(String sensorName, String sensorValue, String sensorId, Timestamp updateTimestamp) {
		this.sensorId = sensorId;
		this.sensorName = sensorName;
		this.sensorValue = sensorValue;
		this.updateTimestamp = updateTimestamp;
	}

	public GeneralPhidSensor(HashMap<String, String> map) throws ParseException {
		this.sensorId = map.get("sensorId");
		this.sensorName = map.get("sensorName");
		this.sensorValue = map.get("sensorValue");
		this.updateTimestamp = new Timestamp(
				new SimpleDateFormat("yyyy-MM-dd_hh:mm:ss").parse(map.get("updateTimestamp")).getTime());
	}

	public GeneralPhidSensor(GeneralPhidSensor sensor) {
		this.sensorId = sensor.getSensorId();
		this.sensorName = sensor.getSensorName();
		this.sensorValue = sensor.getSensorValue();
		this.updateTimestamp = sensor.getSensorLastUpdate();
	}

	@Override
	public void setSensorLastUpdate(Timestamp updateTime) {
		this.updateTimestamp = updateTime;
	}

	@Override
	public void setSensorValue(String sensorState) {
		this.sensorValue = sensorState;

	}

	@Override
	public void setSensorType(String sensorName) {
		this.sensorName = sensorName;
	}

	@Override
	public void setSensorId(String sensorId) {
		this.sensorId = sensorId;

	}

	@Override
	public Timestamp getSensorLastUpdate() {
		return this.updateTimestamp;
	}

	@Override
	public String getSensorValue() {
		return this.sensorValue;
	}

	@Override
	public String getSensorName() {
		return this.sensorName;
	}

	@Override
	public String getSensorId() {
		return this.sensorId;
	}

	public String toString() {
		return "SensorID: " + sensorId + "\n" + "SensorName: " + sensorName + "\n" + "SensorValue: " + sensorValue
				+ "\n" + "SensorUpdateTime: " + updateTimestamp;
	}

}
